from usbserial import Serial
import time

try:
    # Tenta abrir o dispositivo diretamente
    with Serial('/dev/ttyACM0', baudrate=9600, timeout=1) as arduino:
        print("Conectado ao Arduino!")

        while True:
            arduino.write(b'Hello Arduino\n')
            response = arduino.readline().decode('utf-8').strip()
            if response:
                print(f"Recebido do Arduino: {response}")
            time.sleep(1)

except PermissionError as e:
    print(f"Erro de permiss√£o: {e}")
except Exception as e:
    print(f"Erro: {e}")
